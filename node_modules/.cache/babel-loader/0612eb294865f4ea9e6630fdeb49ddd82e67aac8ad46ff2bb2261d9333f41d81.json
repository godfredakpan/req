{"ast":null,"code":"import learn from './learn.js';\nimport { indexRules } from '../_lib.js';\nconst mergeExceptions = function (fwd, bkwd) {\n  Object.entries(bkwd).forEach(b => {\n    fwd[b[1]] = b[0]; //reverse\n  });\n\n  return fwd;\n};\nconst learnBoth = function (pairs) {\n  let opts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  let fwd = learn(pairs, opts);\n  // learn backward too?\n  if (opts.reverse !== false) {\n    pairs = pairs.map(a => [a[1], a[0]]);\n    let bkwd = learn(pairs, opts);\n    // merge exceptions\n    fwd.exceptions = mergeExceptions(fwd.exceptions, bkwd.exceptions);\n    // add rules\n    fwd.rev = indexRules(bkwd.rules);\n  }\n  fwd.rules = indexRules(fwd.rules);\n  return fwd;\n};\nexport default learnBoth;","map":{"version":3,"names":["learn","indexRules","mergeExceptions","fwd","bkwd","Object","entries","forEach","b","learnBoth","pairs","opts","reverse","map","a","exceptions","rev","rules"],"sources":["/Users/godfredakpan/Documents/signature_generator/signature_generator/node_modules/suffix-thumb/src/learn/index.js"],"sourcesContent":["import learn from './learn.js'\nimport { indexRules } from '../_lib.js'\n\nconst mergeExceptions = function (fwd, bkwd) {\n  Object.entries(bkwd).forEach(b => {\n    fwd[b[1]] = b[0] //reverse\n  })\n  return fwd\n}\n\nconst learnBoth = function (pairs, opts = {}) {\n  let fwd = learn(pairs, opts)\n  // learn backward too?\n  if (opts.reverse !== false) {\n    pairs = pairs.map(a => [a[1], a[0]])\n    let bkwd = learn(pairs, opts)\n    // merge exceptions\n    fwd.exceptions = mergeExceptions(fwd.exceptions, bkwd.exceptions)\n    // add rules\n    fwd.rev = indexRules(bkwd.rules)\n  }\n  fwd.rules = indexRules(fwd.rules)\n  return fwd\n}\nexport default learnBoth"],"mappings":"AAAA,OAAOA,KAAK,MAAM,YAAY;AAC9B,SAASC,UAAU,QAAQ,YAAY;AAEvC,MAAMC,eAAe,GAAG,UAAUC,GAAG,EAAEC,IAAI,EAAE;EAC3CC,MAAM,CAACC,OAAO,CAACF,IAAI,CAAC,CAACG,OAAO,CAACC,CAAC,IAAI;IAChCL,GAAG,CAACK,CAAC,CAAC,CAAC,CAAC,CAAC,GAAGA,CAAC,CAAC,CAAC,CAAC,EAAC;EACnB,CAAC,CAAC;;EACF,OAAOL,GAAG;AACZ,CAAC;AAED,MAAMM,SAAS,GAAG,UAAUC,KAAK,EAAa;EAAA,IAAXC,IAAI,uEAAG,CAAC,CAAC;EAC1C,IAAIR,GAAG,GAAGH,KAAK,CAACU,KAAK,EAAEC,IAAI,CAAC;EAC5B;EACA,IAAIA,IAAI,CAACC,OAAO,KAAK,KAAK,EAAE;IAC1BF,KAAK,GAAGA,KAAK,CAACG,GAAG,CAACC,CAAC,IAAI,CAACA,CAAC,CAAC,CAAC,CAAC,EAAEA,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACpC,IAAIV,IAAI,GAAGJ,KAAK,CAACU,KAAK,EAAEC,IAAI,CAAC;IAC7B;IACAR,GAAG,CAACY,UAAU,GAAGb,eAAe,CAACC,GAAG,CAACY,UAAU,EAAEX,IAAI,CAACW,UAAU,CAAC;IACjE;IACAZ,GAAG,CAACa,GAAG,GAAGf,UAAU,CAACG,IAAI,CAACa,KAAK,CAAC;EAClC;EACAd,GAAG,CAACc,KAAK,GAAGhB,UAAU,CAACE,GAAG,CAACc,KAAK,CAAC;EACjC,OAAOd,GAAG;AACZ,CAAC;AACD,eAAeM,SAAS"},"metadata":{},"sourceType":"module","externalDependencies":[]}