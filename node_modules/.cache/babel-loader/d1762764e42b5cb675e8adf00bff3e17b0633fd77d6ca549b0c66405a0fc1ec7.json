{"ast":null,"code":"const keep = {\n  tags: true\n};\nconst hasPlural = function (parsed) {\n  let {\n    root\n  } = parsed;\n  if (root.has('^(#Uncountable|#Possessive|#ProperNoun|#Place|#Pronoun|#Acronym)+$')) {\n    return false;\n  }\n  return true;\n};\nconst nounToPlural = function (m, parsed) {\n  // already plural?\n  if (parsed.isPlural === true) {\n    return m;\n  }\n  // is a plural appropriate?\n  if (!hasPlural(parsed)) {\n    return m;\n  }\n  const {\n    methods,\n    model\n  } = m.world;\n  const {\n    toPlural\n  } = methods.two.transform.noun;\n  // inflect the root noun\n  let str = parsed.root.text({\n    keepPunct: false\n  });\n  let plural = toPlural(str, model);\n  m.match(parsed.root).replaceWith(plural, keep).tag('Plural', 'toPlural');\n  // should we change the determiner/article?\n  if (parsed.determiner.has('(a|an)')) {\n    // 'a captain' -> 'the captains'\n    // m.replace(parsed.determiner, 'the', keep)\n    m.remove(parsed.determiner);\n  }\n  // should we change the following copula?\n  let copula = parsed.root.after('not? #Adverb+? [#Copula]', 0);\n  if (copula.found) {\n    if (copula.has('is')) {\n      m.replace(copula, 'are');\n    } else if (copula.has('was')) {\n      m.replace(copula, 'were');\n    }\n  }\n  return m;\n};\nexport default nounToPlural;","map":{"version":3,"names":["keep","tags","hasPlural","parsed","root","has","nounToPlural","m","isPlural","methods","model","world","toPlural","two","transform","noun","str","text","keepPunct","plural","match","replaceWith","tag","determiner","remove","copula","after","found","replace"],"sources":["/Users/godfredakpan/Documents/signature_generator/signature_generator/node_modules/compromise/src/3-three/nouns/api/toPlural.js"],"sourcesContent":["const keep = { tags: true }\n\nconst hasPlural = function (parsed) {\n  let { root } = parsed\n  if (root.has('^(#Uncountable|#Possessive|#ProperNoun|#Place|#Pronoun|#Acronym)+$')) {\n    return false\n  }\n  return true\n}\n\nconst nounToPlural = function (m, parsed) {\n  // already plural?\n  if (parsed.isPlural === true) {\n    return m\n  }\n  // is a plural appropriate?\n  if (!hasPlural(parsed)) {\n    return m\n  }\n  const { methods, model } = m.world\n  const { toPlural } = methods.two.transform.noun\n  // inflect the root noun\n  let str = parsed.root.text({ keepPunct: false })\n  let plural = toPlural(str, model)\n  m.match(parsed.root).replaceWith(plural, keep).tag('Plural', 'toPlural')\n  // should we change the determiner/article?\n  if (parsed.determiner.has('(a|an)')) {\n    // 'a captain' -> 'the captains'\n    // m.replace(parsed.determiner, 'the', keep)\n    m.remove(parsed.determiner)\n  }\n  // should we change the following copula?\n  let copula = parsed.root.after('not? #Adverb+? [#Copula]', 0)\n  if (copula.found) {\n    if (copula.has('is')) {\n      m.replace(copula, 'are')\n    } else if (copula.has('was')) {\n      m.replace(copula, 'were')\n    }\n  }\n  return m\n}\nexport default nounToPlural\n"],"mappings":"AAAA,MAAMA,IAAI,GAAG;EAAEC,IAAI,EAAE;AAAK,CAAC;AAE3B,MAAMC,SAAS,GAAG,UAAUC,MAAM,EAAE;EAClC,IAAI;IAAEC;EAAK,CAAC,GAAGD,MAAM;EACrB,IAAIC,IAAI,CAACC,GAAG,CAAC,oEAAoE,CAAC,EAAE;IAClF,OAAO,KAAK;EACd;EACA,OAAO,IAAI;AACb,CAAC;AAED,MAAMC,YAAY,GAAG,UAAUC,CAAC,EAAEJ,MAAM,EAAE;EACxC;EACA,IAAIA,MAAM,CAACK,QAAQ,KAAK,IAAI,EAAE;IAC5B,OAAOD,CAAC;EACV;EACA;EACA,IAAI,CAACL,SAAS,CAACC,MAAM,CAAC,EAAE;IACtB,OAAOI,CAAC;EACV;EACA,MAAM;IAAEE,OAAO;IAAEC;EAAM,CAAC,GAAGH,CAAC,CAACI,KAAK;EAClC,MAAM;IAAEC;EAAS,CAAC,GAAGH,OAAO,CAACI,GAAG,CAACC,SAAS,CAACC,IAAI;EAC/C;EACA,IAAIC,GAAG,GAAGb,MAAM,CAACC,IAAI,CAACa,IAAI,CAAC;IAAEC,SAAS,EAAE;EAAM,CAAC,CAAC;EAChD,IAAIC,MAAM,GAAGP,QAAQ,CAACI,GAAG,EAAEN,KAAK,CAAC;EACjCH,CAAC,CAACa,KAAK,CAACjB,MAAM,CAACC,IAAI,CAAC,CAACiB,WAAW,CAACF,MAAM,EAAEnB,IAAI,CAAC,CAACsB,GAAG,CAAC,QAAQ,EAAE,UAAU,CAAC;EACxE;EACA,IAAInB,MAAM,CAACoB,UAAU,CAAClB,GAAG,CAAC,QAAQ,CAAC,EAAE;IACnC;IACA;IACAE,CAAC,CAACiB,MAAM,CAACrB,MAAM,CAACoB,UAAU,CAAC;EAC7B;EACA;EACA,IAAIE,MAAM,GAAGtB,MAAM,CAACC,IAAI,CAACsB,KAAK,CAAC,0BAA0B,EAAE,CAAC,CAAC;EAC7D,IAAID,MAAM,CAACE,KAAK,EAAE;IAChB,IAAIF,MAAM,CAACpB,GAAG,CAAC,IAAI,CAAC,EAAE;MACpBE,CAAC,CAACqB,OAAO,CAACH,MAAM,EAAE,KAAK,CAAC;IAC1B,CAAC,MAAM,IAAIA,MAAM,CAACpB,GAAG,CAAC,KAAK,CAAC,EAAE;MAC5BE,CAAC,CAACqB,OAAO,CAACH,MAAM,EAAE,MAAM,CAAC;IAC3B;EACF;EACA,OAAOlB,CAAC;AACV,CAAC;AACD,eAAeD,YAAY"},"metadata":{},"sourceType":"module","externalDependencies":[]}