{"ast":null,"code":"const prefix = /^(under|over|mis|re|un|dis|semi|pre|post)-?/;\n// anti|non|extra|inter|intra|over\nconst allowPrefix = new Set(['Verb', 'Infinitive', 'PastTense', 'Gerund', 'PresentTense', 'Adjective', 'Participle']);\n\n// tag any words in our lexicon\nconst checkLexicon = function (terms, i, world) {\n  const {\n    model,\n    methods\n  } = world;\n  // const fastTag = methods.one.fastTag\n  const setTag = methods.one.setTag;\n  const lexicon = model.one.lexicon;\n\n  // basic lexicon lookup\n  let t = terms[i];\n  let word = t.machine || t.normal;\n  // normal lexicon lookup\n  if (lexicon[word] !== undefined && lexicon.hasOwnProperty(word)) {\n    let tag = lexicon[word];\n    setTag([t], tag, world, false, '1-lexicon');\n    // fastTag(t, tag, '1-lexicon')\n    return true;\n  }\n  // lookup aliases in the lexicon\n  if (t.alias) {\n    let found = t.alias.find(str => lexicon.hasOwnProperty(str));\n    if (found) {\n      let tag = lexicon[found];\n      setTag([t], tag, world, false, '1-lexicon-alias');\n      // fastTag(t, tag, '1-lexicon-alias')\n      return true;\n    }\n  }\n  // prefixing for verbs/adjectives\n  if (prefix.test(word) === true) {\n    let stem = word.replace(prefix, '');\n    if (lexicon.hasOwnProperty(stem) && stem.length > 3) {\n      // only allow prefixes for verbs/adjectives\n      if (allowPrefix.has(lexicon[stem])) {\n        // console.log('->', word, stem, lexicon[stem])\n        setTag([t], lexicon[stem], world, false, '1-lexicon-prefix');\n        // fastTag(t, lexicon[stem], '1-lexicon-prefix')\n        return true;\n      }\n    }\n  }\n  return null;\n};\nexport default checkLexicon;","map":{"version":3,"names":["prefix","allowPrefix","Set","checkLexicon","terms","i","world","model","methods","setTag","one","lexicon","t","word","machine","normal","undefined","hasOwnProperty","tag","alias","found","find","str","test","stem","replace","length","has"],"sources":["/Users/godfredakpan/Documents/signature_generator/signature_generator/node_modules/compromise/src/1-one/lexicon/compute/single-word.js"],"sourcesContent":["const prefix = /^(under|over|mis|re|un|dis|semi|pre|post)-?/\n// anti|non|extra|inter|intra|over\nconst allowPrefix = new Set(['Verb', 'Infinitive', 'PastTense', 'Gerund', 'PresentTense', 'Adjective', 'Participle'])\n\n// tag any words in our lexicon\nconst checkLexicon = function (terms, i, world) {\n  const { model, methods } = world\n  // const fastTag = methods.one.fastTag\n  const setTag = methods.one.setTag\n  const lexicon = model.one.lexicon\n\n  // basic lexicon lookup\n  let t = terms[i]\n  let word = t.machine || t.normal\n  // normal lexicon lookup\n  if (lexicon[word] !== undefined && lexicon.hasOwnProperty(word)) {\n    let tag = lexicon[word]\n    setTag([t], tag, world, false, '1-lexicon')\n    // fastTag(t, tag, '1-lexicon')\n    return true\n  }\n  // lookup aliases in the lexicon\n  if (t.alias) {\n    let found = t.alias.find(str => lexicon.hasOwnProperty(str))\n    if (found) {\n      let tag = lexicon[found]\n      setTag([t], tag, world, false, '1-lexicon-alias')\n      // fastTag(t, tag, '1-lexicon-alias')\n      return true\n    }\n  }\n  // prefixing for verbs/adjectives\n  if (prefix.test(word) === true) {\n    let stem = word.replace(prefix, '')\n    if (lexicon.hasOwnProperty(stem) && stem.length > 3) {\n      // only allow prefixes for verbs/adjectives\n      if (allowPrefix.has(lexicon[stem])) {\n        // console.log('->', word, stem, lexicon[stem])\n        setTag([t], lexicon[stem], world, false, '1-lexicon-prefix')\n        // fastTag(t, lexicon[stem], '1-lexicon-prefix')\n        return true\n      }\n    }\n  }\n  return null\n}\nexport default checkLexicon\n"],"mappings":"AAAA,MAAMA,MAAM,GAAG,6CAA6C;AAC5D;AACA,MAAMC,WAAW,GAAG,IAAIC,GAAG,CAAC,CAAC,MAAM,EAAE,YAAY,EAAE,WAAW,EAAE,QAAQ,EAAE,cAAc,EAAE,WAAW,EAAE,YAAY,CAAC,CAAC;;AAErH;AACA,MAAMC,YAAY,GAAG,UAAUC,KAAK,EAAEC,CAAC,EAAEC,KAAK,EAAE;EAC9C,MAAM;IAAEC,KAAK;IAAEC;EAAQ,CAAC,GAAGF,KAAK;EAChC;EACA,MAAMG,MAAM,GAAGD,OAAO,CAACE,GAAG,CAACD,MAAM;EACjC,MAAME,OAAO,GAAGJ,KAAK,CAACG,GAAG,CAACC,OAAO;;EAEjC;EACA,IAAIC,CAAC,GAAGR,KAAK,CAACC,CAAC,CAAC;EAChB,IAAIQ,IAAI,GAAGD,CAAC,CAACE,OAAO,IAAIF,CAAC,CAACG,MAAM;EAChC;EACA,IAAIJ,OAAO,CAACE,IAAI,CAAC,KAAKG,SAAS,IAAIL,OAAO,CAACM,cAAc,CAACJ,IAAI,CAAC,EAAE;IAC/D,IAAIK,GAAG,GAAGP,OAAO,CAACE,IAAI,CAAC;IACvBJ,MAAM,CAAC,CAACG,CAAC,CAAC,EAAEM,GAAG,EAAEZ,KAAK,EAAE,KAAK,EAAE,WAAW,CAAC;IAC3C;IACA,OAAO,IAAI;EACb;EACA;EACA,IAAIM,CAAC,CAACO,KAAK,EAAE;IACX,IAAIC,KAAK,GAAGR,CAAC,CAACO,KAAK,CAACE,IAAI,CAACC,GAAG,IAAIX,OAAO,CAACM,cAAc,CAACK,GAAG,CAAC,CAAC;IAC5D,IAAIF,KAAK,EAAE;MACT,IAAIF,GAAG,GAAGP,OAAO,CAACS,KAAK,CAAC;MACxBX,MAAM,CAAC,CAACG,CAAC,CAAC,EAAEM,GAAG,EAAEZ,KAAK,EAAE,KAAK,EAAE,iBAAiB,CAAC;MACjD;MACA,OAAO,IAAI;IACb;EACF;EACA;EACA,IAAIN,MAAM,CAACuB,IAAI,CAACV,IAAI,CAAC,KAAK,IAAI,EAAE;IAC9B,IAAIW,IAAI,GAAGX,IAAI,CAACY,OAAO,CAACzB,MAAM,EAAE,EAAE,CAAC;IACnC,IAAIW,OAAO,CAACM,cAAc,CAACO,IAAI,CAAC,IAAIA,IAAI,CAACE,MAAM,GAAG,CAAC,EAAE;MACnD;MACA,IAAIzB,WAAW,CAAC0B,GAAG,CAAChB,OAAO,CAACa,IAAI,CAAC,CAAC,EAAE;QAClC;QACAf,MAAM,CAAC,CAACG,CAAC,CAAC,EAAED,OAAO,CAACa,IAAI,CAAC,EAAElB,KAAK,EAAE,KAAK,EAAE,kBAAkB,CAAC;QAC5D;QACA,OAAO,IAAI;MACb;IACF;EACF;EACA,OAAO,IAAI;AACb,CAAC;AACD,eAAeH,YAAY"},"metadata":{},"sourceType":"module","externalDependencies":[]}