{"ast":null,"code":"\"use strict\";\n\nexports.__esModule = true;\nexports.default = useImage;\nvar _react = require(\"react\");\n\n/**\n * Fetch and load an image for programatic use such as in a `<canvas>` element.\n *\n * @param imageOrUrl The `HtmlImageElement` or image url to load\n * @param crossOrigin The `crossorigin` attribute to set\n *\n * ```ts\n * const { image, error } = useImage('/static/kittens.png')\n * const ref = useRef<HTMLCanvasElement>()\n *\n * useEffect(() => {\n *   const ctx = ref.current.getContext('2d')\n *\n *   if (image) {\n *     ctx.drawImage(image, 0, 0)\n *   }\n * }, [ref, image])\n *\n * return (\n *   <>\n *     {error && \"there was a problem loading the image\"}\n *     <canvas ref={ref} />\n *   </>\n * ```\n */\nfunction useImage(imageOrUrl, crossOrigin) {\n  var _useState = (0, _react.useState)({\n      image: null,\n      error: null\n    }),\n    state = _useState[0],\n    setState = _useState[1];\n  (0, _react.useEffect)(function () {\n    if (!imageOrUrl) return undefined;\n    var image;\n    if (typeof imageOrUrl === 'string') {\n      image = new Image();\n      if (crossOrigin) image.crossOrigin = crossOrigin;\n      image.src = imageOrUrl;\n    } else {\n      image = imageOrUrl;\n      if (image.complete && image.naturalHeight > 0) {\n        setState({\n          image: image,\n          error: null\n        });\n        return;\n      }\n    }\n    function onLoad() {\n      setState({\n        image: image,\n        error: null\n      });\n    }\n    function onError(error) {\n      setState({\n        image: image,\n        error: error\n      });\n    }\n    image.addEventListener('load', onLoad);\n    image.addEventListener('error', onError);\n    return function () {\n      image.removeEventListener('load', onLoad);\n      image.removeEventListener('error', onError);\n    };\n  }, [imageOrUrl, crossOrigin]);\n  return state;\n}","map":{"version":3,"names":["exports","__esModule","default","useImage","_react","require","imageOrUrl","crossOrigin","_useState","useState","image","error","state","setState","useEffect","undefined","Image","src","complete","naturalHeight","onLoad","onError","addEventListener","removeEventListener"],"sources":["/Users/godfredakpan/Documents/projects/AgentReg/node_modules/@restart/hooks/cjs/useImage.js"],"sourcesContent":["\"use strict\";\n\nexports.__esModule = true;\nexports.default = useImage;\n\nvar _react = require(\"react\");\n\n/**\n * Fetch and load an image for programatic use such as in a `<canvas>` element.\n *\n * @param imageOrUrl The `HtmlImageElement` or image url to load\n * @param crossOrigin The `crossorigin` attribute to set\n *\n * ```ts\n * const { image, error } = useImage('/static/kittens.png')\n * const ref = useRef<HTMLCanvasElement>()\n *\n * useEffect(() => {\n *   const ctx = ref.current.getContext('2d')\n *\n *   if (image) {\n *     ctx.drawImage(image, 0, 0)\n *   }\n * }, [ref, image])\n *\n * return (\n *   <>\n *     {error && \"there was a problem loading the image\"}\n *     <canvas ref={ref} />\n *   </>\n * ```\n */\nfunction useImage(imageOrUrl, crossOrigin) {\n  var _useState = (0, _react.useState)({\n    image: null,\n    error: null\n  }),\n      state = _useState[0],\n      setState = _useState[1];\n\n  (0, _react.useEffect)(function () {\n    if (!imageOrUrl) return undefined;\n    var image;\n\n    if (typeof imageOrUrl === 'string') {\n      image = new Image();\n      if (crossOrigin) image.crossOrigin = crossOrigin;\n      image.src = imageOrUrl;\n    } else {\n      image = imageOrUrl;\n\n      if (image.complete && image.naturalHeight > 0) {\n        setState({\n          image: image,\n          error: null\n        });\n        return;\n      }\n    }\n\n    function onLoad() {\n      setState({\n        image: image,\n        error: null\n      });\n    }\n\n    function onError(error) {\n      setState({\n        image: image,\n        error: error\n      });\n    }\n\n    image.addEventListener('load', onLoad);\n    image.addEventListener('error', onError);\n    return function () {\n      image.removeEventListener('load', onLoad);\n      image.removeEventListener('error', onError);\n    };\n  }, [imageOrUrl, crossOrigin]);\n  return state;\n}"],"mappings":"AAAA,YAAY;;AAEZA,OAAO,CAACC,UAAU,GAAG,IAAI;AACzBD,OAAO,CAACE,OAAO,GAAGC,QAAQ;AAE1B,IAAIC,MAAM,GAAGC,OAAO,CAAC,OAAO,CAAC;;AAE7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAASF,QAAQ,CAACG,UAAU,EAAEC,WAAW,EAAE;EACzC,IAAIC,SAAS,GAAG,CAAC,CAAC,EAAEJ,MAAM,CAACK,QAAQ,EAAE;MACnCC,KAAK,EAAE,IAAI;MACXC,KAAK,EAAE;IACT,CAAC,CAAC;IACEC,KAAK,GAAGJ,SAAS,CAAC,CAAC,CAAC;IACpBK,QAAQ,GAAGL,SAAS,CAAC,CAAC,CAAC;EAE3B,CAAC,CAAC,EAAEJ,MAAM,CAACU,SAAS,EAAE,YAAY;IAChC,IAAI,CAACR,UAAU,EAAE,OAAOS,SAAS;IACjC,IAAIL,KAAK;IAET,IAAI,OAAOJ,UAAU,KAAK,QAAQ,EAAE;MAClCI,KAAK,GAAG,IAAIM,KAAK,EAAE;MACnB,IAAIT,WAAW,EAAEG,KAAK,CAACH,WAAW,GAAGA,WAAW;MAChDG,KAAK,CAACO,GAAG,GAAGX,UAAU;IACxB,CAAC,MAAM;MACLI,KAAK,GAAGJ,UAAU;MAElB,IAAII,KAAK,CAACQ,QAAQ,IAAIR,KAAK,CAACS,aAAa,GAAG,CAAC,EAAE;QAC7CN,QAAQ,CAAC;UACPH,KAAK,EAAEA,KAAK;UACZC,KAAK,EAAE;QACT,CAAC,CAAC;QACF;MACF;IACF;IAEA,SAASS,MAAM,GAAG;MAChBP,QAAQ,CAAC;QACPH,KAAK,EAAEA,KAAK;QACZC,KAAK,EAAE;MACT,CAAC,CAAC;IACJ;IAEA,SAASU,OAAO,CAACV,KAAK,EAAE;MACtBE,QAAQ,CAAC;QACPH,KAAK,EAAEA,KAAK;QACZC,KAAK,EAAEA;MACT,CAAC,CAAC;IACJ;IAEAD,KAAK,CAACY,gBAAgB,CAAC,MAAM,EAAEF,MAAM,CAAC;IACtCV,KAAK,CAACY,gBAAgB,CAAC,OAAO,EAAED,OAAO,CAAC;IACxC,OAAO,YAAY;MACjBX,KAAK,CAACa,mBAAmB,CAAC,MAAM,EAAEH,MAAM,CAAC;MACzCV,KAAK,CAACa,mBAAmB,CAAC,OAAO,EAAEF,OAAO,CAAC;IAC7C,CAAC;EACH,CAAC,EAAE,CAACf,UAAU,EAAEC,WAAW,CAAC,CAAC;EAC7B,OAAOK,KAAK;AACd"},"metadata":{},"sourceType":"script","externalDependencies":[]}