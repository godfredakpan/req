{"ast":null,"code":"\"use strict\";\n\nexports.__esModule = true;\nexports.useTransition = useTransition;\nexports.default = ImperativeTransition;\nexports.renderTransition = renderTransition;\nvar _useMergedRefs = _interopRequireDefault(require(\"@restart/hooks/useMergedRefs\"));\nvar _useEventCallback = _interopRequireDefault(require(\"@restart/hooks/useEventCallback\"));\nvar _useIsomorphicEffect = _interopRequireDefault(require(\"@restart/hooks/useIsomorphicEffect\"));\nvar _react = _interopRequireWildcard(require(\"react\"));\nvar _NoopTransition = _interopRequireDefault(require(\"./NoopTransition\"));\nvar _jsxRuntime = require(\"react/jsx-runtime\");\nfunction _getRequireWildcardCache(nodeInterop) {\n  if (typeof WeakMap !== \"function\") return null;\n  var cacheBabelInterop = new WeakMap();\n  var cacheNodeInterop = new WeakMap();\n  return (_getRequireWildcardCache = function (nodeInterop) {\n    return nodeInterop ? cacheNodeInterop : cacheBabelInterop;\n  })(nodeInterop);\n}\nfunction _interopRequireWildcard(obj, nodeInterop) {\n  if (!nodeInterop && obj && obj.__esModule) {\n    return obj;\n  }\n  if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") {\n    return {\n      default: obj\n    };\n  }\n  var cache = _getRequireWildcardCache(nodeInterop);\n  if (cache && cache.has(obj)) {\n    return cache.get(obj);\n  }\n  var newObj = {};\n  var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n  for (var key in obj) {\n    if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) {\n      var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n      if (desc && (desc.get || desc.set)) {\n        Object.defineProperty(newObj, key, desc);\n      } else {\n        newObj[key] = obj[key];\n      }\n    }\n  }\n  newObj.default = obj;\n  if (cache) {\n    cache.set(obj, newObj);\n  }\n  return newObj;\n}\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\nfunction useTransition(_ref) {\n  let {\n    in: inProp,\n    onTransition\n  } = _ref;\n  const ref = (0, _react.useRef)(null);\n  const isInitialRef = (0, _react.useRef)(true);\n  const handleTransition = (0, _useEventCallback.default)(onTransition);\n  (0, _useIsomorphicEffect.default)(() => {\n    if (!ref.current) {\n      return undefined;\n    }\n    let stale = false;\n    handleTransition({\n      in: inProp,\n      element: ref.current,\n      initial: isInitialRef.current,\n      isStale: () => stale\n    });\n    return () => {\n      stale = true;\n    };\n  }, [inProp, handleTransition]);\n  (0, _useIsomorphicEffect.default)(() => {\n    isInitialRef.current = false;\n    // this is for strict mode\n    return () => {\n      isInitialRef.current = true;\n    };\n  }, []);\n  return ref;\n}\n/**\n * Adapts an imperative transition function to a subset of the RTG `<Transition>` component API.\n *\n * ImperativeTransition does not support mounting options or `appear` at the moment, meaning\n * that it always acts like: `mountOnEnter={true} unmountOnExit={true} appear={true}`\n */\nfunction ImperativeTransition(_ref2) {\n  let {\n    children,\n    in: inProp,\n    onExited,\n    onEntered,\n    transition\n  } = _ref2;\n  const [exited, setExited] = (0, _react.useState)(!inProp);\n\n  // TODO: I think this needs to be in an effect\n  if (inProp && exited) {\n    setExited(false);\n  }\n  const ref = useTransition({\n    in: !!inProp,\n    onTransition: options => {\n      const onFinish = () => {\n        if (options.isStale()) return;\n        if (options.in) {\n          onEntered == null ? void 0 : onEntered(options.element, options.initial);\n        } else {\n          setExited(true);\n          onExited == null ? void 0 : onExited(options.element);\n        }\n      };\n      Promise.resolve(transition(options)).then(onFinish, error => {\n        if (!options.in) setExited(true);\n        throw error;\n      });\n    }\n  });\n  const combinedRef = (0, _useMergedRefs.default)(ref, children.ref);\n  return exited && !inProp ? null : /*#__PURE__*/(0, _react.cloneElement)(children, {\n    ref: combinedRef\n  });\n}\nfunction renderTransition(Component, runTransition, props) {\n  if (Component) {\n    return /*#__PURE__*/(0, _jsxRuntime.jsx)(Component, Object.assign({}, props));\n  }\n  if (runTransition) {\n    return /*#__PURE__*/(0, _jsxRuntime.jsx)(ImperativeTransition, Object.assign({}, props, {\n      transition: runTransition\n    }));\n  }\n  return /*#__PURE__*/(0, _jsxRuntime.jsx)(_NoopTransition.default, Object.assign({}, props));\n}","map":{"version":3,"names":["exports","__esModule","useTransition","default","ImperativeTransition","renderTransition","_useMergedRefs","_interopRequireDefault","require","_useEventCallback","_useIsomorphicEffect","_react","_interopRequireWildcard","_NoopTransition","_jsxRuntime","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","obj","cache","has","get","newObj","hasPropertyDescriptor","Object","defineProperty","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","in","inProp","onTransition","ref","useRef","isInitialRef","handleTransition","current","undefined","stale","element","initial","isStale","children","onExited","onEntered","transition","exited","setExited","useState","options","onFinish","Promise","resolve","then","error","combinedRef","cloneElement","Component","runTransition","props","jsx","assign"],"sources":["/Users/godfredakpan/Documents/projects/AgentReg/node_modules/@restart/ui/cjs/ImperativeTransition.js"],"sourcesContent":["\"use strict\";\n\nexports.__esModule = true;\nexports.useTransition = useTransition;\nexports.default = ImperativeTransition;\nexports.renderTransition = renderTransition;\nvar _useMergedRefs = _interopRequireDefault(require(\"@restart/hooks/useMergedRefs\"));\nvar _useEventCallback = _interopRequireDefault(require(\"@restart/hooks/useEventCallback\"));\nvar _useIsomorphicEffect = _interopRequireDefault(require(\"@restart/hooks/useIsomorphicEffect\"));\nvar _react = _interopRequireWildcard(require(\"react\"));\nvar _NoopTransition = _interopRequireDefault(require(\"./NoopTransition\"));\nvar _jsxRuntime = require(\"react/jsx-runtime\");\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function (nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nfunction useTransition({\n  in: inProp,\n  onTransition\n}) {\n  const ref = (0, _react.useRef)(null);\n  const isInitialRef = (0, _react.useRef)(true);\n  const handleTransition = (0, _useEventCallback.default)(onTransition);\n  (0, _useIsomorphicEffect.default)(() => {\n    if (!ref.current) {\n      return undefined;\n    }\n    let stale = false;\n    handleTransition({\n      in: inProp,\n      element: ref.current,\n      initial: isInitialRef.current,\n      isStale: () => stale\n    });\n    return () => {\n      stale = true;\n    };\n  }, [inProp, handleTransition]);\n  (0, _useIsomorphicEffect.default)(() => {\n    isInitialRef.current = false;\n    // this is for strict mode\n    return () => {\n      isInitialRef.current = true;\n    };\n  }, []);\n  return ref;\n}\n/**\n * Adapts an imperative transition function to a subset of the RTG `<Transition>` component API.\n *\n * ImperativeTransition does not support mounting options or `appear` at the moment, meaning\n * that it always acts like: `mountOnEnter={true} unmountOnExit={true} appear={true}`\n */\nfunction ImperativeTransition({\n  children,\n  in: inProp,\n  onExited,\n  onEntered,\n  transition\n}) {\n  const [exited, setExited] = (0, _react.useState)(!inProp);\n\n  // TODO: I think this needs to be in an effect\n  if (inProp && exited) {\n    setExited(false);\n  }\n  const ref = useTransition({\n    in: !!inProp,\n    onTransition: options => {\n      const onFinish = () => {\n        if (options.isStale()) return;\n        if (options.in) {\n          onEntered == null ? void 0 : onEntered(options.element, options.initial);\n        } else {\n          setExited(true);\n          onExited == null ? void 0 : onExited(options.element);\n        }\n      };\n      Promise.resolve(transition(options)).then(onFinish, error => {\n        if (!options.in) setExited(true);\n        throw error;\n      });\n    }\n  });\n  const combinedRef = (0, _useMergedRefs.default)(ref, children.ref);\n  return exited && !inProp ? null : /*#__PURE__*/(0, _react.cloneElement)(children, {\n    ref: combinedRef\n  });\n}\nfunction renderTransition(Component, runTransition, props) {\n  if (Component) {\n    return /*#__PURE__*/(0, _jsxRuntime.jsx)(Component, Object.assign({}, props));\n  }\n  if (runTransition) {\n    return /*#__PURE__*/(0, _jsxRuntime.jsx)(ImperativeTransition, Object.assign({}, props, {\n      transition: runTransition\n    }));\n  }\n  return /*#__PURE__*/(0, _jsxRuntime.jsx)(_NoopTransition.default, Object.assign({}, props));\n}"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}