{"ast":null,"code":"var _jsxFileName = \"/Users/godfredakpan/Documents/projects/AgentReg/src/components/all_users.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport BootstrapTable from 'react-bootstrap-table-next';\nimport paginationFactory from 'react-bootstrap-table2-paginator';\nimport 'react-bootstrap-table-next/dist/react-bootstrap-table2.min.css';\nimport { Button } from 'react-bootstrap';\nimport { saveAs } from 'file-saver';\nimport * as XLSX from 'xlsx';\nimport getAllUsers from '../fauna/getUsers';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst columns = [{\n  dataField: 'fname',\n  text: 'First Name'\n}, {\n  dataField: 'mname',\n  text: 'Middle Name'\n}, {\n  dataField: 'lname',\n  text: 'Last Name'\n}, {\n  dataField: 'gender',\n  text: 'Gender'\n}, {\n  dataField: 'dob',\n  text: 'Date of Birth'\n}, {\n  dataField: 'email',\n  text: 'Email'\n}, {\n  dataField: 'phone',\n  text: 'Phone'\n}, {\n  dataField: 'address',\n  text: 'Address'\n}, {\n  dataField: 'bank_name',\n  text: 'Bank Name'\n}, {\n  dataField: 'account_number',\n  text: 'Acct Number'\n}, {\n  dataField: 'account_name',\n  text: 'Account Name'\n}];\nconst options = {\n  sizePerPage: 10,\n  hideSizePerPage: false,\n  hidePageListOnlyOnePage: true,\n  alwaysShowAllBtns: true\n};\nfunction Users() {\n  _s();\n  const [selectedRows, setSelectedRows] = useState([]);\n  const [users, setUsers] = useState([]);\n  React.useEffect(() => {\n    async function fetchData() {\n      const users = await getAllUsers();\n      const reformedUsers = users.map(user => {\n        return {\n          ...user.data,\n          id: user.ref.id\n        };\n      });\n      setUsers(reformedUsers);\n    }\n    fetchData();\n  }, []);\n  const handleSelect = (row, isSelected) => {\n    if (isSelected) {\n      setSelectedRows([...selectedRows, row]);\n    } else {\n      setSelectedRows(selectedRows.filter(r => r.id !== row.id));\n    }\n  };\n  const handleExportClick = () => {\n    const selectedData = selectedRows.length > 0 ? selectedRows : users;\n    const sheetData = [['First Name', 'Middle Name', 'Last Name', 'Gender', 'Date of Birth', 'Email', 'Phone', 'Address', 'Bank Name', 'Account Number', 'Account Name'], ...selectedData.map(d => [d.firstName, d.middleName, d.lastName, d.gender, d.dob, d.email, d.phone, d.address, d.bankName, d.accountNumber, d.accountName])];\n    const sheetName = 'Purple Data';\n    const workbook = XLSX.utils.book_new();\n    const worksheet = XLSX.utils.aoa_to_sheet(sheetData);\n    XLSX.utils.book_append_sheet(workbook, worksheet, sheetName);\n    const excelBuffer = XLSX.write(workbook, {\n      bookType: 'xlsx',\n      type: 'array'\n    });\n    saveAs(new Blob([excelBuffer], {\n      type: 'application/octet-stream'\n    }), `${sheetName}.xlsx`);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container mt-5 card\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row card-body\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-md-12\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Entries\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          className: \"btn-success\",\n          onClick: handleExportClick,\n          children: \"Export to Excel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(BootstrapTable, {\n          keyField: \"id\",\n          data: users,\n          columns: columns,\n          selectRow: {\n            mode: 'checkbox',\n            onSelect: handleSelect\n          },\n          pagination: paginationFactory(options),\n          wrapperClasses: \"table-responsive\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 119,\n    columnNumber: 5\n  }, this);\n}\n_s(Users, \"bHa78TjZFeey2Sz6TMx0BEQ5bc0=\");\n_c = Users;\nexport default Users;\nvar _c;\n$RefreshReg$(_c, \"Users\");","map":{"version":3,"names":["React","useState","BootstrapTable","paginationFactory","Button","saveAs","XLSX","getAllUsers","columns","dataField","text","options","sizePerPage","hideSizePerPage","hidePageListOnlyOnePage","alwaysShowAllBtns","Users","selectedRows","setSelectedRows","users","setUsers","useEffect","fetchData","reformedUsers","map","user","data","id","ref","handleSelect","row","isSelected","filter","r","handleExportClick","selectedData","length","sheetData","d","firstName","middleName","lastName","gender","dob","email","phone","address","bankName","accountNumber","accountName","sheetName","workbook","utils","book_new","worksheet","aoa_to_sheet","book_append_sheet","excelBuffer","write","bookType","type","Blob","mode","onSelect"],"sources":["/Users/godfredakpan/Documents/projects/AgentReg/src/components/all_users.js"],"sourcesContent":["import React, { useState } from 'react';\nimport BootstrapTable from 'react-bootstrap-table-next';\nimport paginationFactory from 'react-bootstrap-table2-paginator';\nimport 'react-bootstrap-table-next/dist/react-bootstrap-table2.min.css';\nimport { Button } from 'react-bootstrap';\nimport { saveAs } from 'file-saver';\nimport * as XLSX from 'xlsx';\nimport getAllUsers from '../fauna/getUsers';\n\nconst columns = [\n  {\n    dataField: 'fname',\n    text: 'First Name',\n  },\n  {\n    dataField: 'mname',\n    text: 'Middle Name',\n  },\n  {\n    dataField: 'lname',\n    text: 'Last Name',\n  },\n  {\n    dataField: 'gender',\n    text: 'Gender',\n  },\n  {\n    dataField: 'dob',\n    text: 'Date of Birth',\n  },\n  {\n    dataField: 'email',\n    text: 'Email',\n  },\n  {\n    dataField: 'phone',\n    text: 'Phone',\n  },\n  {\n    dataField: 'address',\n    text: 'Address',\n  },\n  {\n    dataField: 'bank_name',\n    text: 'Bank Name',\n  },\n  {\n    dataField: 'account_number',\n    text: 'Acct Number',\n  },\n  {\n    dataField: 'account_name',\n    text: 'Account Name',\n  },\n\n];\n\n\nconst options = {\n  sizePerPage: 10,\n  hideSizePerPage: false,\n  hidePageListOnlyOnePage: true,\n  alwaysShowAllBtns: true,\n\n\n};\n\nfunction Users() {\n  const [selectedRows, setSelectedRows] = useState([]); \n  const [users, setUsers] = useState([]);\n\n  React.useEffect(() => {\n    async function fetchData() {\n        const users = await getAllUsers();\n        const reformedUsers = users.map((user) => {\n            return { ...user.data, id: user.ref.id };\n        });\n        setUsers(reformedUsers);\n    }\n    fetchData();\n}, [])\n\n  const handleSelect = (row, isSelected) => {\n    if (isSelected) {\n      setSelectedRows([...selectedRows, row]);\n    } else {\n      setSelectedRows(selectedRows.filter((r) => r.id !== row.id));\n    }\n  };\n\n\n  const handleExportClick = () => {\n    const selectedData = selectedRows.length > 0 ? selectedRows : users;\n\n    const sheetData = [\n      ['First Name', 'Middle Name', 'Last Name', 'Gender', 'Date of Birth', 'Email', 'Phone', 'Address', 'Bank Name', 'Account Number', 'Account Name'],\n      ...selectedData.map((d) => [d.firstName, d.middleName, d.lastName, d.gender, d.dob, d.email, d.phone, d.address, d.bankName, d.accountNumber, d.accountName]),\n    ];\n\n    const sheetName = 'Purple Data';\n\n    const workbook = XLSX.utils.book_new();\n    const worksheet = XLSX.utils.aoa_to_sheet(sheetData);\n\n    XLSX.utils.book_append_sheet(workbook, worksheet, sheetName);\n\n    const excelBuffer = XLSX.write(workbook, {\n      bookType: 'xlsx',\n      type: 'array',\n    });\n\n    saveAs(\n      new Blob([excelBuffer], { type: 'application/octet-stream' }),\n      `${sheetName}.xlsx`\n    );\n  };\n\n  return (\n    <div className=\"container mt-5 card\">\n      <div className=\"row card-body\">\n        <div className=\"col-md-12\">\n          <h2>Entries</h2>\n          <Button className='btn-success' onClick={handleExportClick}>Export to Excel</Button>\n          <br/>\n          <BootstrapTable\n            keyField=\"id\"\n            data={users}\n            columns={columns}\n            selectRow={{ mode: 'checkbox', onSelect: handleSelect }}\n            pagination={paginationFactory(options)}\n            wrapperClasses=\"table-responsive\"\n          />\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default Users;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}