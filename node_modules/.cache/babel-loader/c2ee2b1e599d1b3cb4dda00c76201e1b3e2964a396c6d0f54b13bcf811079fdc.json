{"ast":null,"code":"\"use strict\";\n\nexports.__esModule = true;\nexports.default = useResizeObserver;\nvar _react = require(\"react\");\nvar _useIsomorphicEffect = _interopRequireDefault(require(\"./useIsomorphicEffect\"));\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\nvar targetMap = new WeakMap();\nvar resizeObserver;\nfunction getResizeObserver() {\n  // eslint-disable-next-line no-return-assign\n  return resizeObserver = resizeObserver || new window.ResizeObserver(function (entries) {\n    entries.forEach(function (entry) {\n      var handler = targetMap.get(entry.target);\n      if (handler) handler(entry.contentRect);\n    });\n  });\n}\n/**\n * Efficiently observe size changes on an element. Depends on the `ResizeObserver` api,\n * and polyfills are needed in older browsers.\n *\n * ```ts\n * const [ref, attachRef] = useCallbackRef(null);\n *\n * const rect = useResizeObserver(ref);\n *\n * return (\n *  <div ref={attachRef}>\n *    {JSON.stringify(rect)}\n *  </div>\n * )\n * ```\n *\n * @param element The DOM element to observe\n */\n\nfunction useResizeObserver(element) {\n  var _useState = (0, _react.useState)(null),\n    rect = _useState[0],\n    setRect = _useState[1];\n  (0, _useIsomorphicEffect.default)(function () {\n    if (!element) return;\n    getResizeObserver().observe(element);\n    setRect(element.getBoundingClientRect());\n    targetMap.set(element, function (rect) {\n      setRect(rect);\n    });\n    return function () {\n      targetMap.delete(element);\n    };\n  }, [element]);\n  return rect;\n}","map":{"version":3,"names":["exports","__esModule","default","useResizeObserver","_react","require","_useIsomorphicEffect","_interopRequireDefault","obj","targetMap","WeakMap","resizeObserver","getResizeObserver","window","ResizeObserver","entries","forEach","entry","handler","get","target","contentRect","element","_useState","useState","rect","setRect","observe","getBoundingClientRect","set","delete"],"sources":["/Users/godfredakpan/Documents/projects/AgentReg/node_modules/@restart/hooks/cjs/useResizeObserver.js"],"sourcesContent":["\"use strict\";\n\nexports.__esModule = true;\nexports.default = useResizeObserver;\n\nvar _react = require(\"react\");\n\nvar _useIsomorphicEffect = _interopRequireDefault(require(\"./useIsomorphicEffect\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar targetMap = new WeakMap();\nvar resizeObserver;\n\nfunction getResizeObserver() {\n  // eslint-disable-next-line no-return-assign\n  return resizeObserver = resizeObserver || new window.ResizeObserver(function (entries) {\n    entries.forEach(function (entry) {\n      var handler = targetMap.get(entry.target);\n      if (handler) handler(entry.contentRect);\n    });\n  });\n}\n/**\n * Efficiently observe size changes on an element. Depends on the `ResizeObserver` api,\n * and polyfills are needed in older browsers.\n *\n * ```ts\n * const [ref, attachRef] = useCallbackRef(null);\n *\n * const rect = useResizeObserver(ref);\n *\n * return (\n *  <div ref={attachRef}>\n *    {JSON.stringify(rect)}\n *  </div>\n * )\n * ```\n *\n * @param element The DOM element to observe\n */\n\n\nfunction useResizeObserver(element) {\n  var _useState = (0, _react.useState)(null),\n      rect = _useState[0],\n      setRect = _useState[1];\n\n  (0, _useIsomorphicEffect.default)(function () {\n    if (!element) return;\n    getResizeObserver().observe(element);\n    setRect(element.getBoundingClientRect());\n    targetMap.set(element, function (rect) {\n      setRect(rect);\n    });\n    return function () {\n      targetMap.delete(element);\n    };\n  }, [element]);\n  return rect;\n}"],"mappings":"AAAA,YAAY;;AAEZA,OAAO,CAACC,UAAU,GAAG,IAAI;AACzBD,OAAO,CAACE,OAAO,GAAGC,iBAAiB;AAEnC,IAAIC,MAAM,GAAGC,OAAO,CAAC,OAAO,CAAC;AAE7B,IAAIC,oBAAoB,GAAGC,sBAAsB,CAACF,OAAO,CAAC,uBAAuB,CAAC,CAAC;AAEnF,SAASE,sBAAsB,CAACC,GAAG,EAAE;EAAE,OAAOA,GAAG,IAAIA,GAAG,CAACP,UAAU,GAAGO,GAAG,GAAG;IAAEN,OAAO,EAAEM;EAAI,CAAC;AAAE;AAE9F,IAAIC,SAAS,GAAG,IAAIC,OAAO,EAAE;AAC7B,IAAIC,cAAc;AAElB,SAASC,iBAAiB,GAAG;EAC3B;EACA,OAAOD,cAAc,GAAGA,cAAc,IAAI,IAAIE,MAAM,CAACC,cAAc,CAAC,UAAUC,OAAO,EAAE;IACrFA,OAAO,CAACC,OAAO,CAAC,UAAUC,KAAK,EAAE;MAC/B,IAAIC,OAAO,GAAGT,SAAS,CAACU,GAAG,CAACF,KAAK,CAACG,MAAM,CAAC;MACzC,IAAIF,OAAO,EAAEA,OAAO,CAACD,KAAK,CAACI,WAAW,CAAC;IACzC,CAAC,CAAC;EACJ,CAAC,CAAC;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAGA,SAASlB,iBAAiB,CAACmB,OAAO,EAAE;EAClC,IAAIC,SAAS,GAAG,CAAC,CAAC,EAAEnB,MAAM,CAACoB,QAAQ,EAAE,IAAI,CAAC;IACtCC,IAAI,GAAGF,SAAS,CAAC,CAAC,CAAC;IACnBG,OAAO,GAAGH,SAAS,CAAC,CAAC,CAAC;EAE1B,CAAC,CAAC,EAAEjB,oBAAoB,CAACJ,OAAO,EAAE,YAAY;IAC5C,IAAI,CAACoB,OAAO,EAAE;IACdV,iBAAiB,EAAE,CAACe,OAAO,CAACL,OAAO,CAAC;IACpCI,OAAO,CAACJ,OAAO,CAACM,qBAAqB,EAAE,CAAC;IACxCnB,SAAS,CAACoB,GAAG,CAACP,OAAO,EAAE,UAAUG,IAAI,EAAE;MACrCC,OAAO,CAACD,IAAI,CAAC;IACf,CAAC,CAAC;IACF,OAAO,YAAY;MACjBhB,SAAS,CAACqB,MAAM,CAACR,OAAO,CAAC;IAC3B,CAAC;EACH,CAAC,EAAE,CAACA,OAAO,CAAC,CAAC;EACb,OAAOG,IAAI;AACb"},"metadata":{},"sourceType":"script","externalDependencies":[]}