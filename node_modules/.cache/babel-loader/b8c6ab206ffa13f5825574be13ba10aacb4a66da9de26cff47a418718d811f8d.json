{"ast":null,"code":"const hasOpen = /\\(/;\nconst hasClosed = /\\)/;\nconst findEnd = function (terms, i) {\n  for (; i < terms.length; i += 1) {\n    if (terms[i].post && hasClosed.test(terms[i].post)) {\n      return i;\n    }\n  }\n  return null;\n};\nconst find = function (doc) {\n  let ptrs = [];\n  doc.docs.forEach(terms => {\n    let isOpen = false;\n    for (let i = 0; i < terms.length; i += 1) {\n      let term = terms[i];\n      if (!isOpen && term.pre && hasOpen.test(term.pre)) {\n        let end = findEnd(terms, i);\n        if (end !== null) {\n          let [n, start] = terms[i].index;\n          ptrs.push([n, start, end + 1, terms[i].id]);\n          i = end;\n        }\n      }\n    }\n  });\n  return doc.update(ptrs);\n};\nconst strip = function (m) {\n  m.docs.forEach(terms => {\n    terms[0].pre = terms[0].pre.replace(hasOpen, '');\n    let last = terms[terms.length - 1];\n    last.post = last.post.replace(hasClosed, '');\n  });\n  return m;\n};\nexport { find, strip };","map":{"version":3,"names":["hasOpen","hasClosed","findEnd","terms","i","length","post","test","find","doc","ptrs","docs","forEach","isOpen","term","pre","end","n","start","index","push","id","update","strip","m","replace","last"],"sources":["/Users/godfredakpan/Documents/signature_generator/signature_generator/node_modules/compromise/src/3-three/misc/parentheses/fns.js"],"sourcesContent":["const hasOpen = /\\(/\nconst hasClosed = /\\)/\n\nconst findEnd = function (terms, i) {\n  for (; i < terms.length; i += 1) {\n    if (terms[i].post && hasClosed.test(terms[i].post)) {\n      return i\n    }\n  }\n  return null\n}\n\nconst find = function (doc) {\n  let ptrs = []\n  doc.docs.forEach(terms => {\n    let isOpen = false\n    for (let i = 0; i < terms.length; i += 1) {\n      let term = terms[i]\n      if (!isOpen && term.pre && hasOpen.test(term.pre)) {\n        let end = findEnd(terms, i)\n        if (end !== null) {\n          let [n, start] = terms[i].index\n          ptrs.push([n, start, end + 1, terms[i].id])\n          i = end\n        }\n      }\n    }\n  })\n  return doc.update(ptrs)\n}\n\nconst strip = function (m) {\n  m.docs.forEach(terms => {\n    terms[0].pre = terms[0].pre.replace(hasOpen, '')\n    let last = terms[terms.length - 1]\n    last.post = last.post.replace(hasClosed, '')\n  })\n  return m\n}\nexport { find, strip }\n"],"mappings":"AAAA,MAAMA,OAAO,GAAG,IAAI;AACpB,MAAMC,SAAS,GAAG,IAAI;AAEtB,MAAMC,OAAO,GAAG,UAAUC,KAAK,EAAEC,CAAC,EAAE;EAClC,OAAOA,CAAC,GAAGD,KAAK,CAACE,MAAM,EAAED,CAAC,IAAI,CAAC,EAAE;IAC/B,IAAID,KAAK,CAACC,CAAC,CAAC,CAACE,IAAI,IAAIL,SAAS,CAACM,IAAI,CAACJ,KAAK,CAACC,CAAC,CAAC,CAACE,IAAI,CAAC,EAAE;MAClD,OAAOF,CAAC;IACV;EACF;EACA,OAAO,IAAI;AACb,CAAC;AAED,MAAMI,IAAI,GAAG,UAAUC,GAAG,EAAE;EAC1B,IAAIC,IAAI,GAAG,EAAE;EACbD,GAAG,CAACE,IAAI,CAACC,OAAO,CAACT,KAAK,IAAI;IACxB,IAAIU,MAAM,GAAG,KAAK;IAClB,KAAK,IAAIT,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGD,KAAK,CAACE,MAAM,EAAED,CAAC,IAAI,CAAC,EAAE;MACxC,IAAIU,IAAI,GAAGX,KAAK,CAACC,CAAC,CAAC;MACnB,IAAI,CAACS,MAAM,IAAIC,IAAI,CAACC,GAAG,IAAIf,OAAO,CAACO,IAAI,CAACO,IAAI,CAACC,GAAG,CAAC,EAAE;QACjD,IAAIC,GAAG,GAAGd,OAAO,CAACC,KAAK,EAAEC,CAAC,CAAC;QAC3B,IAAIY,GAAG,KAAK,IAAI,EAAE;UAChB,IAAI,CAACC,CAAC,EAAEC,KAAK,CAAC,GAAGf,KAAK,CAACC,CAAC,CAAC,CAACe,KAAK;UAC/BT,IAAI,CAACU,IAAI,CAAC,CAACH,CAAC,EAAEC,KAAK,EAAEF,GAAG,GAAG,CAAC,EAAEb,KAAK,CAACC,CAAC,CAAC,CAACiB,EAAE,CAAC,CAAC;UAC3CjB,CAAC,GAAGY,GAAG;QACT;MACF;IACF;EACF,CAAC,CAAC;EACF,OAAOP,GAAG,CAACa,MAAM,CAACZ,IAAI,CAAC;AACzB,CAAC;AAED,MAAMa,KAAK,GAAG,UAAUC,CAAC,EAAE;EACzBA,CAAC,CAACb,IAAI,CAACC,OAAO,CAACT,KAAK,IAAI;IACtBA,KAAK,CAAC,CAAC,CAAC,CAACY,GAAG,GAAGZ,KAAK,CAAC,CAAC,CAAC,CAACY,GAAG,CAACU,OAAO,CAACzB,OAAO,EAAE,EAAE,CAAC;IAChD,IAAI0B,IAAI,GAAGvB,KAAK,CAACA,KAAK,CAACE,MAAM,GAAG,CAAC,CAAC;IAClCqB,IAAI,CAACpB,IAAI,GAAGoB,IAAI,CAACpB,IAAI,CAACmB,OAAO,CAACxB,SAAS,EAAE,EAAE,CAAC;EAC9C,CAAC,CAAC;EACF,OAAOuB,CAAC;AACV,CAAC;AACD,SAAShB,IAAI,EAAEe,KAAK"},"metadata":{},"sourceType":"module","externalDependencies":[]}