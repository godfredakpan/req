{"ast":null,"code":"import { query, Client } from 'faunadb';\nimport { FAUNA_SECRET } from './faunaKeys';\nconst getAllUsers = async email => {\n  const q = query;\n  const client = new Client({\n    secret: FAUNA_SECRET,\n    domain: 'db.us.fauna.com',\n    scheme: 'https'\n  });\n  const usersQuery = client.query(q.Map(q.Paginate(q.Match(q.Index('all_users'))), q.Lambda(x => q.Get(x)))).then(ret => {\n    return ret.data;\n  }).catch(err => {\n    return null;\n  });\n  if (!usersQuery || usersQuery === undefined) return null;\n  return usersQuery;\n};\nexport default getAllUsers;","map":{"version":3,"names":["query","Client","FAUNA_SECRET","getAllUsers","email","q","client","secret","domain","scheme","usersQuery","Map","Paginate","Match","Index","Lambda","x","Get","then","ret","data","catch","err","undefined"],"sources":["/Users/godfredakpan/Documents/projects/AgentReg/src/fauna/getUsers.js"],"sourcesContent":["import { query, Client } from 'faunadb'\nimport { FAUNA_SECRET } from './faunaKeys'\n\nconst getAllUsers = async (email) => {\n    const q = query\n\n    const client = new Client({\n        secret: FAUNA_SECRET,\n        domain: 'db.us.fauna.com',\n        scheme: 'https',\n    })\n\n    const usersQuery = client.query(\n        q.Map( \n            q.Paginate(q.Match(q.Index('all_users'))),\n            q.Lambda(x => q.Get(x))\n        )\n    )\n    .then((ret) => { return ret.data })\n    .catch((err) => {\n        return null\n    }\n    )\n\n    if (!usersQuery || usersQuery === undefined) return null\n\n    return usersQuery\n\n}\n\nexport default getAllUsers"],"mappings":"AAAA,SAASA,KAAK,EAAEC,MAAM,QAAQ,SAAS;AACvC,SAASC,YAAY,QAAQ,aAAa;AAE1C,MAAMC,WAAW,GAAG,MAAOC,KAAK,IAAK;EACjC,MAAMC,CAAC,GAAGL,KAAK;EAEf,MAAMM,MAAM,GAAG,IAAIL,MAAM,CAAC;IACtBM,MAAM,EAAEL,YAAY;IACpBM,MAAM,EAAE,iBAAiB;IACzBC,MAAM,EAAE;EACZ,CAAC,CAAC;EAEF,MAAMC,UAAU,GAAGJ,MAAM,CAACN,KAAK,CAC3BK,CAAC,CAACM,GAAG,CACDN,CAAC,CAACO,QAAQ,CAACP,CAAC,CAACQ,KAAK,CAACR,CAAC,CAACS,KAAK,CAAC,WAAW,CAAC,CAAC,CAAC,EACzCT,CAAC,CAACU,MAAM,CAACC,CAAC,IAAIX,CAAC,CAACY,GAAG,CAACD,CAAC,CAAC,CAAC,CAC1B,CACJ,CACAE,IAAI,CAAEC,GAAG,IAAK;IAAE,OAAOA,GAAG,CAACC,IAAI;EAAC,CAAC,CAAC,CAClCC,KAAK,CAAEC,GAAG,IAAK;IACZ,OAAO,IAAI;EACf,CAAC,CACA;EAED,IAAI,CAACZ,UAAU,IAAIA,UAAU,KAAKa,SAAS,EAAE,OAAO,IAAI;EAExD,OAAOb,UAAU;AAErB,CAAC;AAED,eAAeP,WAAW"},"metadata":{},"sourceType":"module","externalDependencies":[]}