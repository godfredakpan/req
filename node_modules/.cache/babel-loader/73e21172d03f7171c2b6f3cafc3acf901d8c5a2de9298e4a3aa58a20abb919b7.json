{"ast":null,"code":"const prefix = /^([0-9]+)/;\nimport { indexRules } from '../_lib.js';\nconst expand = function () {\n  let key = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n  let val = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n  val = String(val);\n  let m = val.match(prefix);\n  if (m === null) {\n    return [key, val];\n  }\n  let num = Number(m[1]) || 0;\n  let pre = key.substring(0, num);\n  let full = pre + val.replace(prefix, '');\n  return [key, full];\n};\nconst toArray = function (txt) {\n  const pipe = /\\|/;\n  return txt.split(/,/).map(str => {\n    let a = str.split(pipe);\n    return expand(a[0], a[1]);\n  });\n};\nconst uncompress = function () {\n  let model = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  model = Object.assign({}, model);\n\n  // compress fwd rules\n  model.rules = toArray(model.rules);\n  model.rules = indexRules(model.rules);\n\n  // compress reverse rules\n  if (model.rev) {\n    model.rev = toArray(model.rev);\n    model.rev = indexRules(model.rev);\n  }\n\n  // compress exceptions\n  model.exceptions = toArray(model.exceptions);\n  model.exceptions = model.exceptions.reduce((h, a) => {\n    h[a[0]] = a[1];\n    return h;\n  }, {});\n  return model;\n};\nexport default uncompress;\n\n// console.log(expand('fixture', '6ing'))\n// console.log(toArray('heard|4'))","map":{"version":3,"names":["prefix","indexRules","expand","key","val","String","m","match","num","Number","pre","substring","full","replace","toArray","txt","pipe","split","map","str","a","uncompress","model","Object","assign","rules","rev","exceptions","reduce","h"],"sources":["/Users/godfredakpan/Documents/signature_generator/signature_generator/node_modules/suffix-thumb/src/compress/uncompress.js"],"sourcesContent":["const prefix = /^([0-9]+)/\nimport { indexRules } from '../_lib.js'\n\nconst expand = function (key = '', val = '') {\n  val = String(val)\n  let m = val.match(prefix)\n  if (m === null) {\n    return [key, val]\n  }\n  let num = Number(m[1]) || 0\n  let pre = key.substring(0, num)\n  let full = pre + val.replace(prefix, '')\n  return [key, full]\n}\n\nconst toArray = function (txt) {\n  const pipe = /\\|/\n  return txt.split(/,/).map(str => {\n    let a = str.split(pipe)\n    return expand(a[0], a[1])\n  })\n}\n\nconst uncompress = function (model = {}) {\n  model = Object.assign({}, model)\n\n  // compress fwd rules\n  model.rules = toArray(model.rules)\n  model.rules = indexRules(model.rules)\n\n  // compress reverse rules\n  if (model.rev) {\n    model.rev = toArray(model.rev)\n    model.rev = indexRules(model.rev)\n  }\n\n  // compress exceptions\n  model.exceptions = toArray(model.exceptions)\n  model.exceptions = model.exceptions.reduce((h, a) => {\n    h[a[0]] = a[1]\n    return h\n  }, {})\n  return model\n}\nexport default uncompress\n\n// console.log(expand('fixture', '6ing'))\n// console.log(toArray('heard|4'))"],"mappings":"AAAA,MAAMA,MAAM,GAAG,WAAW;AAC1B,SAASC,UAAU,QAAQ,YAAY;AAEvC,MAAMC,MAAM,GAAG,YAA8B;EAAA,IAApBC,GAAG,uEAAG,EAAE;EAAA,IAAEC,GAAG,uEAAG,EAAE;EACzCA,GAAG,GAAGC,MAAM,CAACD,GAAG,CAAC;EACjB,IAAIE,CAAC,GAAGF,GAAG,CAACG,KAAK,CAACP,MAAM,CAAC;EACzB,IAAIM,CAAC,KAAK,IAAI,EAAE;IACd,OAAO,CAACH,GAAG,EAAEC,GAAG,CAAC;EACnB;EACA,IAAII,GAAG,GAAGC,MAAM,CAACH,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC;EAC3B,IAAII,GAAG,GAAGP,GAAG,CAACQ,SAAS,CAAC,CAAC,EAAEH,GAAG,CAAC;EAC/B,IAAII,IAAI,GAAGF,GAAG,GAAGN,GAAG,CAACS,OAAO,CAACb,MAAM,EAAE,EAAE,CAAC;EACxC,OAAO,CAACG,GAAG,EAAES,IAAI,CAAC;AACpB,CAAC;AAED,MAAME,OAAO,GAAG,UAAUC,GAAG,EAAE;EAC7B,MAAMC,IAAI,GAAG,IAAI;EACjB,OAAOD,GAAG,CAACE,KAAK,CAAC,GAAG,CAAC,CAACC,GAAG,CAACC,GAAG,IAAI;IAC/B,IAAIC,CAAC,GAAGD,GAAG,CAACF,KAAK,CAACD,IAAI,CAAC;IACvB,OAAOd,MAAM,CAACkB,CAAC,CAAC,CAAC,CAAC,EAAEA,CAAC,CAAC,CAAC,CAAC,CAAC;EAC3B,CAAC,CAAC;AACJ,CAAC;AAED,MAAMC,UAAU,GAAG,YAAsB;EAAA,IAAZC,KAAK,uEAAG,CAAC,CAAC;EACrCA,KAAK,GAAGC,MAAM,CAACC,MAAM,CAAC,CAAC,CAAC,EAAEF,KAAK,CAAC;;EAEhC;EACAA,KAAK,CAACG,KAAK,GAAGX,OAAO,CAACQ,KAAK,CAACG,KAAK,CAAC;EAClCH,KAAK,CAACG,KAAK,GAAGxB,UAAU,CAACqB,KAAK,CAACG,KAAK,CAAC;;EAErC;EACA,IAAIH,KAAK,CAACI,GAAG,EAAE;IACbJ,KAAK,CAACI,GAAG,GAAGZ,OAAO,CAACQ,KAAK,CAACI,GAAG,CAAC;IAC9BJ,KAAK,CAACI,GAAG,GAAGzB,UAAU,CAACqB,KAAK,CAACI,GAAG,CAAC;EACnC;;EAEA;EACAJ,KAAK,CAACK,UAAU,GAAGb,OAAO,CAACQ,KAAK,CAACK,UAAU,CAAC;EAC5CL,KAAK,CAACK,UAAU,GAAGL,KAAK,CAACK,UAAU,CAACC,MAAM,CAAC,CAACC,CAAC,EAAET,CAAC,KAAK;IACnDS,CAAC,CAACT,CAAC,CAAC,CAAC,CAAC,CAAC,GAAGA,CAAC,CAAC,CAAC,CAAC;IACd,OAAOS,CAAC;EACV,CAAC,EAAE,CAAC,CAAC,CAAC;EACN,OAAOP,KAAK;AACd,CAAC;AACD,eAAeD,UAAU;;AAEzB;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}